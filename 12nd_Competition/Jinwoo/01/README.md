# [백준 - 실버 1] 구간 합 구하기5 (11660 번)

## ⏰  **time**

3시간

## :pushpin: **Algorithm**

다이나믹 프로그래밍
누적 합

## ⏲️**Time Complexity**

$O(N)$

## :round_pushpin: **Logic**

- 가로 세로 N개만큼의 표에 숫자를 입력받아 두 좌표 사이의 사각형 넓이를 구하는 문제이다.
- x는 열, y는 행이다. (문제풀이를 할때 반대로 풀어버려서 내 풀이는 x가 행, y가 열이다 ㅜㅜ 결과값에서 바꿔주었다.)
- 우선 가로행의 누적합을 구해 표로 만들었다. 2차원 배열로 구성하였다.
- 그리고 가로행의 누적합 표에서 세로열의 누적합을 구해주었다.

[예시]

## 입력받은 문자표

- 1 2 3 4
- 2 3 4 5
- 3 4 5 6
- 4 5 6 7

## 가로행 누적합

- 01 03 06 10
- 02 05 09 14
- 03 07 12 18
- 04 09 15 22

## 가로행 누적합 표의 세로행 누적합

- 01 03 06 10
- 03 08 15 24
- 06 15 27 42
- 10 24 42 64

## 넓이 구하기

- 이렇게 될 경우 (xI, yI)와 (xII, yII)가 입력이 되어 사각형의 넓이를 구해야 할 경우
- 예를 들어 (2, 2)와 (3,4)가 입력 되었을 경우
- (3,4) 좌표의 42에서 겹치는 누적합 부분을 빼줘야 한다.
- 겹치는 부분의 좌표를 나타내보면 (xI -1, yII) 그리고 (xII, yI -1)이다.
- 이 두 부분을 뺀다면 누적합 표 이므로 빼는 부분에서 또 겹치는 부분이 발생한다.
- 예시의 부분은 (xI -1, yI -1) 부분이 겹쳐진다.
- 그림을 그려 표현하면 쉽겠지만 공식으로 표현하면 다음과 같아진다.
-     #resault = Y_XN_list[yII][xII] - Y_XN_list[yII][xI - 1] - Y_XN_list[yI - 1][xII] + Y_XN_list[yI - 1][xI - 1]

행과 열을 착각해서 반대로 풀어 x와 y좌표를 바꿔주면 풀이가 된다.

- 그리고 xI, yI이 1일 경우 겹치는 부분이 없으므로 누적합을 빼주지 않아도 되는데
- 풀이로 표현하기위해 배열의 가장자리에 0을 집어 넣어줬다.
- 따라서 풀이에 사용한 2차원 배열값을 표로 나타내면 이러하다.

## 풀이에 사용한 표

- 00 00 00 00 00
- 00 01 03 06 10
- 00 03 08 15 24
- 00 06 15 27 42
- 00 10 24 42 64

- 다음 표를 이용하면 겹치는 부분이 없어도 0값이 들어가므로 예외처리를 하지 않아도 된다.

## :black_nib: **Review**

- 처음에 넓이를 구하기 힘들어 값을 하나하나 그리며 그림을 그려 풀어보았다.
- x, y 좌표값을 따로 누적합을 하기도 하였고, 가로로만 누적합을 하여 풀이를 진행하였다.
- 그림을 그리며 고민을 거듭한 결과 위 공식을 알아낼 수 있었고, 이것을 코딩으로 표현하기 위해 시간이 오래 걸렸던거같다.
- N의 최댓값이 1024 여서 표를 만드는데 2중 for문을 사용하긴 했으나 1024 * 1024 = 1,048,576 으로 1초에 20,000,000 연산이 가능한 파이썬에서는 풀이가 가능할거라고 생각했다.
- 시간초과가 나올줄 알고 조마조마 했으나 용량도 시간도 초과되지 않아 다행이다 ㅜㅜ (내 3시간...)
